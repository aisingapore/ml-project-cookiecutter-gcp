<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content {{cookiecutter.description}}&quot;&quot;><meta name=author content={{cookiecutter.author_name}}><link rel=icon href=../../assets/favicon.svg><meta name=generator content="mkdocs-1.1.2, mkdocs-material-7.1.5"><title>Development Environment - {{cookiecutter.project_name}}</title><link rel=stylesheet href=../../assets/stylesheets/main.bde7dde4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ef6f36e2.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style></head> <body dir=ltr data-md-color-scheme=aisg data-md-color-primary=red data-md-color-accent=red> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#development-environment class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title={{cookiecutter.project_name}} class="md-header__button md-logo" aria-label={{cookiecutter.project_name}} data-md-component=logo> <img src=../../assets/aisg-logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> {{cookiecutter.project_name}} </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Development Environment </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=aisg data-md-color-primary=red data-md-color-accent=red type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/aisingapore/ml-project-cookiecutter-gcp title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> aisingapore/ml-project-cookiecutter-gcp </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../01-prerequisites/ class="md-tabs__link md-tabs__link--active"> User Guide </a> </li> <li class=md-tabs__item> <a href=../../guide-for-admin/01-prerequisites/ class=md-tabs__link> Admin Guide </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title={{cookiecutter.project_name}} class="md-nav__button md-logo" aria-label={{cookiecutter.project_name}} data-md-component=logo> <img src=../../assets/aisg-logo.png alt=logo> </a> {{cookiecutter.project_name}} </label> <div class=md-nav__source> <a href=https://github.com/aisingapore/ml-project-cookiecutter-gcp title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> aisingapore/ml-project-cookiecutter-gcp </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> User Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User Guide" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../01-prerequisites/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../02-preface/ class=md-nav__link> Preface </a> </li> <li class=md-nav__item> <a href=../03-mlops-components-platform/ class=md-nav__link> MLOps Components & Platform </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Development Environment <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Development Environment </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#recommended-setup class=md-nav__link> Recommended Setup </a> </li> <li class=md-nav__item> <a href=#vscode class=md-nav__link> VSCode </a> <nav class=md-nav aria-label=VSCode> <ul class=md-nav__list> <li class=md-nav__item> <a href=#persistent-workspaces class=md-nav__link> Persistent Workspaces </a> </li> <li class=md-nav__item> <a href=#git-from-vscode class=md-nav__link> Git from VSCode </a> </li> <li class=md-nav__item> <a href=#extensions-for-vscode class=md-nav__link> Extensions for VSCode </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#jupyterlab class=md-nav__link> JupyterLab </a> </li> <li class=md-nav__item> <a href=#using-docker-within-polyaxon-services class=md-nav__link> Using Docker within Polyaxon Services </a> </li> <li class=md-nav__item> <a href=#cloud-sdk-for-development-environment class=md-nav__link> Cloud SDK for Development Environment </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../05-virtual-env/ class=md-nav__link> Virtual Environment </a> </li> <li class=md-nav__item> <a href=../06-data-storage-versioning/ class=md-nav__link> Data Storage & Versioning </a> </li> <li class=md-nav__item> <a href=../07-job-orchestration/ class=md-nav__link> Job Orchestration </a> </li> <li class=md-nav__item> <a href=../08-deployment/ class=md-nav__link> Deployment </a> </li> <li class=md-nav__item> <a href=../09-batch-inferencing/ class=md-nav__link> Batch Inferencing </a> </li> <li class=md-nav__item> <a href=../10-cicd/ class=md-nav__link> CI/CD </a> </li> <li class=md-nav__item> <a href=../11-documentation/ class=md-nav__link> Documentation </a> </li> <li class=md-nav__item> <a href=../12-streamlit/ class=md-nav__link> Streamlit </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Admin Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Admin Guide" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Admin Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guide-for-admin/01-prerequisites/ class=md-nav__link> Prerequisites </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#recommended-setup class=md-nav__link> Recommended Setup </a> </li> <li class=md-nav__item> <a href=#vscode class=md-nav__link> VSCode </a> <nav class=md-nav aria-label=VSCode> <ul class=md-nav__list> <li class=md-nav__item> <a href=#persistent-workspaces class=md-nav__link> Persistent Workspaces </a> </li> <li class=md-nav__item> <a href=#git-from-vscode class=md-nav__link> Git from VSCode </a> </li> <li class=md-nav__item> <a href=#extensions-for-vscode class=md-nav__link> Extensions for VSCode </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#jupyterlab class=md-nav__link> JupyterLab </a> </li> <li class=md-nav__item> <a href=#using-docker-within-polyaxon-services class=md-nav__link> Using Docker within Polyaxon Services </a> </li> <li class=md-nav__item> <a href=#cloud-sdk-for-development-environment class=md-nav__link> Cloud SDK for Development Environment </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=development-environment>Development Environment<a class=headerlink href=#development-environment title="Permanent link">&para;</a></h1> <p>An advantage presented by the Polyaxon platform is that you can utilise the GKE cluster's resources for your development and engineering works instead of your own resources. We can make use of <a href=https://polyaxon.com/docs/experimentation/services/ >Polyaxon services</a> to spin up VSCode or JupyterLab servers with which cluster resources can be dedicated (except for GPUs); all you need on your end is a machine with WebSockets, a browser, and a terminal.</p> <h2 id=recommended-setup>Recommended Setup<a class=headerlink href=#recommended-setup title="Permanent link">&para;</a></h2> <p>While there exist the option for engineers to set up either a VSCode or JupyterLab service (or both), the former would suffice. Reason being VSCode is an excellent code editor with integrated terminal capabilities and it can also work with Jupyter notebooks. The JupyterLab on the other hand, while being the best interface for Jupyter notebooks, has subpar UX for its terminal and code editor. That is to be expected however as it is the dedicated environment for everything related to the Jupyter ecosystem.</p> <div class="admonition attention"> <p class=admonition-title>Attention</p> <p>First user of each GCP project's Polyaxon server is to begin with a VSCode service as it is required in setting up the folder for dedicated workspaces through an integrated terminal.</p> </div> <h2 id=vscode>VSCode<a class=headerlink href=#vscode title="Permanent link">&para;</a></h2> <p _=% cookiecutter.gcr_personal_subdir=cookiecutter.gcr_personal_subdir if=if>The VSCode service to be created will be using a Docker image. You can use the Dockerfile that is provided out-of-the-box <code>docker/{{cookiecutter.repo_name}}-poly-vscode.Dockerfile</code> to build a Docker image to be pushed to your project's container registry (GCR) or you can customise that same Dockerfile to your liking. Let's build the image:</p> <div class=tabbed-set data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>Linux/macOS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ <span class=nb>export</span> <span class=nv>GCP_PROJECT_ID</span><span class=o>={{</span>cookiecutter.gcp_project_id<span class=o>}}</span>
$ docker build <span class=se>\</span>
    -t asia.gcr.io/<span class=nv>$GCP_PROJECT_ID</span>/vscode-server:0.1.0 <span class=se>\</span>
    -f docker/<span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-poly-vscode.Dockerfile <span class=se>\</span>
    --platform linux/amd64 .
$ docker push asia.gcr.io/<span class=nv>$GCP_PROJECT_ID</span>/vscode-server:0.1.0
</code></pre></div> </div> <input id=__tabbed_1_2 name=__tabbed_1 type=radio><label for=__tabbed_1_2>Windows PowerShell</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=nv>$GCP_PROJECT_ID</span><span class=p>=</span><span class=s1>&#39;{{cookiecutter.gcp_project_id}}&#39;</span>
<span class=p>$</span> <span class=n>docker</span> <span class=n>build</span> <span class=p>`</span>
    <span class=n>-t</span> <span class=n>asia</span><span class=p>.</span><span class=n>gcr</span><span class=p>.</span><span class=n>io</span><span class=p>/</span><span class=nv>$GCP_PROJECT_ID</span><span class=p>/</span><span class=n>vscode-server</span><span class=p>:</span><span class=n>0</span><span class=p>.</span><span class=n>1</span><span class=p>.</span><span class=n>0</span> <span class=p>`</span>
    <span class=o>-f</span> <span class=n>docker</span><span class=p>/{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>repo_name</span><span class=p>}}</span><span class=n>-poly-vscode</span><span class=p>.</span><span class=n>Dockerfile</span> <span class=p>`</span>
    <span class=p>-</span><span class=n>-platform</span> <span class=n>linux</span><span class=p>/</span><span class=n>amd64</span> <span class=p>.</span>
<span class=p>$</span> <span class=n>docker</span> <span class=n>push</span> <span class=n>asia</span><span class=p>.</span><span class=n>gcr</span><span class=p>.</span><span class=n>io</span><span class=p>/</span><span class=nv>$GCP_PROJECT_ID</span><span class=p>/</span><span class=n>vscode-server</span><span class=p>:</span><span class=n>0</span><span class=p>.</span><span class=n>1</span><span class=p>.</span><span class=n>0</span>
</code></pre></div> </div> </div> <p>{% elif cookiecutter.gcr_personal_subdir == 'Yes' %}</p> <div class=tabbed-set data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><label for=__tabbed_2_1>Linux/macOS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ <span class=nb>export</span> <span class=nv>GCP_PROJECT_ID</span><span class=o>={{</span>cookiecutter.gcp_project_id<span class=o>}}</span>
$ docker build <span class=se>\</span>
    -t asia.gcr.io/<span class=nv>$GCP_PROJECT_ID</span>/<span class=o>{{</span>cookiecutter.author_name<span class=o>}}</span>/vscode-server:0.1.0 <span class=se>\</span>
    -f docker/<span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-poly-vscode.Dockerfile <span class=se>\</span>
    --platform linux/amd64 .
$ docker push asia.gcr.io/<span class=nv>$GCP_PROJECT_ID</span>/<span class=o>{{</span>cookiecutter.author_name<span class=o>}}</span>/vscode-server:0.1.0
</code></pre></div> </div> <input id=__tabbed_2_2 name=__tabbed_2 type=radio><label for=__tabbed_2_2>Windows PowerShell</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=nv>$GCP_PROJECT_ID</span><span class=p>=</span><span class=s1>&#39;{{cookiecutter.gcp_project_id}}&#39;</span>
<span class=p>$</span> <span class=n>docker</span> <span class=n>build</span> <span class=p>`</span>
    <span class=n>-t</span> <span class=n>asia</span><span class=p>.</span><span class=n>gcr</span><span class=p>.</span><span class=n>io</span><span class=p>/</span><span class=nv>$GCP_PROJECT_ID</span><span class=p>/{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>author_name</span><span class=p>}}/</span><span class=n>vscode-server</span><span class=p>:</span><span class=n>0</span><span class=p>.</span><span class=n>1</span><span class=p>.</span><span class=n>0</span> <span class=p>`</span>
    <span class=o>-f</span> <span class=n>docker</span><span class=p>/{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>repo_name</span><span class=p>}}</span><span class=n>-poly-vscode</span><span class=p>.</span><span class=n>Dockerfile</span> <span class=p>`</span>
    <span class=p>-</span><span class=n>-platform</span> <span class=n>linux</span><span class=p>/</span><span class=n>amd64</span> <span class=p>.</span>
<span class=p>$</span> <span class=n>docker</span> <span class=n>push</span> <span class=n>asia</span><span class=p>.</span><span class=n>gcr</span><span class=p>.</span><span class=n>io</span><span class=p>/</span><span class=nv>$GCP_PROJECT_ID</span><span class=p>/{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>author_name</span><span class=p>}}/</span><span class=n>vscode-server</span><span class=p>:</span><span class=n>0</span><span class=p>.</span><span class=n>1</span><span class=p>.</span><span class=n>0</span>
</code></pre></div> </div> </div> <p _=% cookiecutter.gcr_personal_subdir=cookiecutter.gcr_personal_subdir if=if>{% endif %} Push the configurations to the Polyaxon server to start up the VSCode service:</p> <div class=tabbed-set data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><label for=__tabbed_3_1>Linux/macOS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ polyaxon run -f aisg-context/polyaxon/polyaxonfiles/vscode-service.yml <span class=se>\</span>
    -P <span class=nv>DOCKER_IMAGE</span><span class=o>=</span><span class=s2>&quot;asia.gcr.io/</span><span class=nv>$GCP_PROJECT_ID</span><span class=s2>/vscode-server:0.1.0&quot;</span> <span class=se>\</span>
    -P <span class=nv>WORKING_DIR</span><span class=o>=</span><span class=s2>&quot;/polyaxon-v1-data&quot;</span> <span class=se>\</span>
    -p <span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-&lt;YOUR_NAME&gt;
</code></pre></div> </div> <input id=__tabbed_3_2 name=__tabbed_3 type=radio><label for=__tabbed_3_2>Windows PowerShell</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ polyaxon run -f aisg-context/polyaxon/polyaxonfiles/vscode-service.yml <span class=sb>`</span>
    -P <span class=nv>DOCKER_IMAGE</span><span class=o>=</span><span class=s2>&quot;asia.gcr.io/</span><span class=nv>$GCP_PROJECT_ID</span><span class=s2>/vscode-server:0.1.0&quot;</span> <span class=sb>`</span>
    -P <span class=nv>WORKING_DIR</span><span class=o>=</span><span class=s2>&quot;/polyaxon-v1-data&quot;</span> <span class=sb>`</span>
    -p <span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-&lt;YOUR_NAME&gt;
</code></pre></div> </div> </div> <p>{% elif cookiecutter.gcr_personal_subdir == 'Yes' %}</p> <div class=tabbed-set data-tabs=4:2><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><label for=__tabbed_4_1>Linux/macOS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ polyaxon run -f aisg-context/polyaxon/polyaxonfiles/vscode-service.yml <span class=se>\</span>
    -P <span class=nv>DOCKER_IMAGE</span><span class=o>=</span><span class=s2>&quot;asia.gcr.io/</span><span class=nv>$GCP_PROJECT_ID</span><span class=s2>/{{cookiecutter.author_name}}/vscode-server:0.1.0&quot;</span> <span class=se>\</span>
    -P <span class=nv>WORKING_DIR</span><span class=o>=</span><span class=s2>&quot;/polyaxon-v1-data&quot;</span> <span class=se>\</span>
    -p <span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-&lt;YOUR_NAME&gt;
</code></pre></div> </div> <input id=__tabbed_4_2 name=__tabbed_4 type=radio><label for=__tabbed_4_2>Windows PowerShell</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ polyaxon run -f aisg-context/polyaxon/polyaxonfiles/vscode-service.yml <span class=sb>`</span>
    -P <span class=nv>DOCKER_IMAGE</span><span class=o>=</span><span class=s2>&quot;asia.gcr.io/</span><span class=nv>$GCP_PROJECT_ID</span><span class=s2>/{{cookiecutter.author_name}}/vscode-server:0.1.0&quot;</span> <span class=sb>`</span>
    -P <span class=nv>WORKING_DIR</span><span class=o>=</span><span class=s2>&quot;/polyaxon-v1-data&quot;</span> <span class=sb>`</span>
    -p <span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-&lt;YOUR_NAME&gt;
</code></pre></div> </div> </div> <p>{% endif %} - <code>-P</code> is used to pass an input for a parameter defined in the Polyaxonfile that is in question. In this case, we are specifying to the Polyaxon service that we intend to use the Docker image <code>asia.gcr.io/$GCP_PROJECT_ID/vscode-server:0.1.0</code> and to work from the path that we have specified, which is <code>/polyaxon-v1-data</code> where data and artifacts will be persisted. - The <code>-p</code> flag is used to specify the project for which you are dedicating the service or job to.</p> <p>Now head over to the services dashboard under your project. The link to your services would be as such - <code>http://localhost:8117/ui/default/{{cookiecutter.repo_name}}-&lt;YOUR_NAME&gt;/services</code>. The interface should look something like the following:</p> <p><img alt="Polyaxon v1 - Services Dashboard" src=../../assets/screenshots/polyaxon-v1-services-dashboard.png></p> <p>To access the VSCode service, expand the service and click on the <code>Service</code> tab:</p> <p><img alt="Polyaxon v1 - VSCode Service Run View" src=../../assets/screenshots/polyaxon-v1-vscode-service-run-view.png></p> <p>The service you see here is embedded within Polyaxon's dashboard. You can click on the <code>Fullscreen</code> button to have a single browser tab be dedicated to this service.</p> <p><img alt="Polyaxon v1- VSCode Service Interface" src=../../assets/screenshots/polyaxon-v1-vscode-service-interface.png></p> <div class="admonition important"> <p class=admonition-title>Important</p> <p>Now, open up an integrated terminal within the Polyaxon VSCode environment which can be done using the keyboard shortcut <code>Ctrl + Shift + `</code>.</p> </div> <h3 id=persistent-workspaces>Persistent Workspaces<a class=headerlink href=#persistent-workspaces title="Permanent link">&para;</a></h3> <p>As mentioned, a persistent volume claim is to be attached to the containers in the cluster, accessible through the path <code>/polyaxon-v1-data</code>. However, it is initially empty. What is to be done now is for a subdirectory named <code>workspaces</code> to be created and be owned by the user ID <code>2222</code>, a figure observable in most of the default boilerplate Dockerfiles.</p> <p>Do a quick check if the directory <code>/polyaxon-v1-data/workspaces</code> exists:</p> <div class=tabbed-set data-tabs=5:1><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><label for=__tabbed_5_1>Polyaxon VSCode Terminal</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ ls -la /polyaxon-v1-data <span class=p>|</span> grep <span class=s2>&quot;workspaces&quot;</span>
</code></pre></div> </div> </div> <div class="admonition attention"> <p class=admonition-title>Attention</p> <div class=tabbed-set data-tabs=6:2><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><label for=__tabbed_6_1>If <code>workspaces</code> does not exist</label><div class=tabbed-content> <div class=tabbed-set data-tabs=7:1><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><label for=__tabbed_7_1>Polyaxon VSCode Terminal</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ sudo mkdir -p /polyaxon-v1-data/workspaces/&lt;YOUR_NAME&gt;
$ sudo chown -R <span class=m>2222</span>:2222 /polyaxon-v1-data/workspaces
$ <span class=nb>cd</span> /polyaxon-v1-data/workspaces/&lt;YOUR_NAME&gt;
</code></pre></div> </div> </div> </div> <input id=__tabbed_6_2 name=__tabbed_6 type=radio><label for=__tabbed_6_2>If <code>workspaces</code> does exist</label><div class=tabbed-content> <div class=tabbed-set data-tabs=8:1><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><label for=__tabbed_8_1>Polyaxon VSCode Terminal</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ mkdir /polyaxon-v1-data/workspaces/&lt;YOUR_NAME&gt; <span class=o>&amp;&amp;</span> <span class=nb>cd</span> <span class=s2>&quot;</span><span class=nv>$_</span><span class=s2>&quot;</span>
</code></pre></div> </div> </div> </div> </div> </div> <p>Use this subdirectory as your own personal workspace, where all your work and other relevant assets can be persisted.</p> <h3 id=git-from-vscode>Git from VSCode<a class=headerlink href=#git-from-vscode title="Permanent link">&para;</a></h3> <p>To clone or push to Git repositories within the VSCode integrated terminal, it is recommended that you first disable VSCode's Git authentication handler:</p> <ol> <li>Head over to <code>File &gt; Preferences &gt; Settings</code>.</li> <li>Search for <code>git.terminalAuthentication</code>.</li> <li>Uncheck the option.</li> <li>Open a new integrated terminal.</li> </ol> <p>We can now clone this repository (or any other repository) into the environment's persistent storage. As the persistent storage would be accessible by the rest of your project team members, <strong>you should only use the <code>HTTPS</code> protocol to clone the repository</strong> as opposed to using an <code>SSH</code> key.</p> <p>The path to persistent storage on Polyaxon is located at <code>/polyaxon-v1-data</code> and you can create your own workspace folder under <code>/polyaxon-v1-data/workspaces/&lt;YOUR_NAME&gt;</code>.</p> <p>Now, let's clone your repository from the remote:</p> <div class=tabbed-set data-tabs=9:1><input checked=checked id=__tabbed_9_1 name=__tabbed_9 type=radio><label for=__tabbed_9_1>Polyaxon VSCode Terminal</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ <span class=nb>cd</span> /polyaxon-v1-data/workspaces/&lt;YOUR_NAME&gt;
$ git clone &lt;REMOTE_URL_HTTPS&gt;
$ <span class=nb>cd</span> <span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>
</code></pre></div> </div> </div> <h3 id=extensions-for-vscode>Extensions for VSCode<a class=headerlink href=#extensions-for-vscode title="Permanent link">&para;</a></h3> <p>You can install a multitude of extensions for your VSCode service but there are a couple that would be crucial for your workflow, especially if you intend to use Jupyter notebooks within the VSCode environment.</p> <ul> <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python"><code>ms-python.python</code></a>: Official extension by Microsoft for rich support for many things Python.</li> <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter"><code>ms-toolsai.jupyter</code></a>: Official extension by Microsoft for Jupyter support.</li> </ul> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Do head over <a href=../05-virtual-env/#jupyter-kernel-for-vscode>here</a> on how to enable the usage of virtual <code>conda</code> environments within VSCode.</p> </div> <h2 id=jupyterlab>JupyterLab<a class=headerlink href=#jupyterlab title="Permanent link">&para;</a></h2> <div class="admonition attention"> <p class=admonition-title>Attention</p> <p>Setting up of a JupyterLab server is optional and not needed as a VSCode service is sufficient as a developer workspace. Resources are limited so use only what you need.</p> </div> <p _=% cookiecutter.gcr_personal_subdir=cookiecutter.gcr_personal_subdir if=if>While Jupyter Notebooks are viewable, editable and executable within a VSCode environment, most are still more familiar with Jupyter's interface for interacting with or editing notebooks. We can spin up a JupyterLab service on Polyaxon:</p> <div class=tabbed-set data-tabs=10:2><input checked=checked id=__tabbed_10_1 name=__tabbed_10 type=radio><label for=__tabbed_10_1>Linux/macOS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ <span class=nb>export</span> <span class=nv>GCP_PROJECT_ID</span><span class=o>={{</span>cookiecutter.gcp_project_id<span class=o>}}</span>
$ docker build <span class=se>\</span>
    -t asia.gcr.io/<span class=nv>$GCP_PROJECT_ID</span>/jupyter-server:0.1.0 <span class=se>\</span>
    -f docker/<span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-poly-jupyter.Dockerfile <span class=se>\</span>
    --platform linux/amd64 .
$ docker push asia.gcr.io/<span class=nv>$GCP_PROJECT_ID</span>/jupyter-server:0.1.0
</code></pre></div> </div> <input id=__tabbed_10_2 name=__tabbed_10 type=radio><label for=__tabbed_10_2>Windows PowerShell</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=nv>$GCP_PROJECT_ID</span><span class=p>=</span><span class=s1>&#39;{{cookiecutter.gcp_project_id}}&#39;</span>
<span class=p>$</span> <span class=n>docker</span> <span class=n>build</span> <span class=p>`</span>
    <span class=n>-t</span> <span class=n>asia</span><span class=p>.</span><span class=n>gcr</span><span class=p>.</span><span class=n>io</span><span class=p>/</span><span class=nv>$GCP_PROJECT_ID</span><span class=p>/</span><span class=n>jupyter-server</span><span class=p>:</span><span class=n>0</span><span class=p>.</span><span class=n>1</span><span class=p>.</span><span class=n>0</span> <span class=p>`</span>
    <span class=o>-f</span> <span class=n>docker</span><span class=p>/{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>repo_name</span><span class=p>}}</span><span class=n>-poly-jupyter</span><span class=p>.</span><span class=n>Dockerfile</span> <span class=p>`</span>
    <span class=p>-</span><span class=n>-platform</span> <span class=n>linux</span><span class=p>/</span><span class=n>amd64</span> <span class=p>.</span>
<span class=p>$</span> <span class=n>docker</span> <span class=n>push</span> <span class=n>asia</span><span class=p>.</span><span class=n>gcr</span><span class=p>.</span><span class=n>io</span><span class=p>/</span><span class=nv>$GCP_PROJECT_ID</span><span class=p>/</span><span class=n>jupyter-server</span><span class=p>:</span><span class=n>0</span><span class=p>.</span><span class=n>1</span><span class=p>.</span><span class=n>0</span>
</code></pre></div> </div> </div> <p>{% elif cookiecutter.gcr_personal_subdir == 'Yes' %}</p> <div class=tabbed-set data-tabs=11:2><input checked=checked id=__tabbed_11_1 name=__tabbed_11 type=radio><label for=__tabbed_11_1>Linux/macOS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ <span class=nb>export</span> <span class=nv>GCP_PROJECT_ID</span><span class=o>={{</span>cookiecutter.gcp_project_id<span class=o>}}</span>
$ docker build <span class=se>\</span>
    -t asia.gcr.io/<span class=nv>$GCP_PROJECT_ID</span>/<span class=o>{{</span>cookiecutter.author_name<span class=o>}}</span>/jupyter-server:0.1.0 <span class=se>\</span>
    -f docker/<span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-poly-jupyter.Dockerfile <span class=se>\</span>
    --platform linux/amd64 .
$ docker push asia.gcr.io/<span class=nv>$GCP_PROJECT_ID</span>/<span class=o>{{</span>cookiecutter.author_name<span class=o>}}</span>/jupyter-server:0.1.0
</code></pre></div> </div> <input id=__tabbed_11_2 name=__tabbed_11 type=radio><label for=__tabbed_11_2>Windows PowerShell</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=nv>$GCP_PROJECT_ID</span><span class=p>=</span><span class=s1>&#39;{{cookiecutter.gcp_project_id}}&#39;</span>
<span class=p>$</span> <span class=n>docker</span> <span class=n>build</span> <span class=p>`</span>
    <span class=n>-t</span> <span class=n>asia</span><span class=p>.</span><span class=n>gcr</span><span class=p>.</span><span class=n>io</span><span class=p>/</span><span class=nv>$GCP_PROJECT_ID</span><span class=p>/{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>author_name</span><span class=p>}}/</span><span class=n>jupyter-server</span><span class=p>:</span><span class=n>0</span><span class=p>.</span><span class=n>1</span><span class=p>.</span><span class=n>0</span> <span class=p>`</span>
    <span class=o>-f</span> <span class=n>docker</span><span class=p>/{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>repo_name</span><span class=p>}}</span><span class=n>-poly-jupyter</span><span class=p>.</span><span class=n>Dockerfile</span> <span class=p>`</span>
    <span class=p>-</span><span class=n>-platform</span> <span class=n>linux</span><span class=p>/</span><span class=n>amd64</span> <span class=p>.</span>
<span class=p>$</span> <span class=n>docker</span> <span class=n>push</span> <span class=n>asia</span><span class=p>.</span><span class=n>gcr</span><span class=p>.</span><span class=n>io</span><span class=p>/</span><span class=nv>$GCP_PROJECT_ID</span><span class=p>/{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>author_name</span><span class=p>}}/</span><span class=n>jupyter-server</span><span class=p>:</span><span class=n>0</span><span class=p>.</span><span class=n>1</span><span class=p>.</span><span class=n>0</span>
</code></pre></div> </div> </div> <p _=% cookiecutter.gcr_personal_subdir=cookiecutter.gcr_personal_subdir if=if>{% endif %} Push the configurations to the Polyaxon server to start up the Jupyter service:</p> <div class=tabbed-set data-tabs=12:2><input checked=checked id=__tabbed_12_1 name=__tabbed_12 type=radio><label for=__tabbed_12_1>Linux/macOS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ polyaxon run -f aisg-context/polyaxon/polyaxonfiles/jupyter-service.yml <span class=se>\</span>
    -P <span class=nv>DOCKER_IMAGE</span><span class=o>=</span><span class=s2>&quot;asia.gcr.io/</span><span class=nv>$GCP_PROJECT_ID</span><span class=s2>/jupyter-server:0.1.0&quot;</span> <span class=se>\</span>
    -P <span class=nv>WORKING_DIR</span><span class=o>=</span><span class=s2>&quot;/polyaxon-v1-data&quot;</span> <span class=se>\</span>
    -p <span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-&lt;YOUR_NAME&gt;
</code></pre></div> </div> <input id=__tabbed_12_2 name=__tabbed_12 type=radio><label for=__tabbed_12_2>Windows PowerShell</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=n>polyaxon</span> <span class=n>run</span> <span class=o>-f</span> <span class=n>aisg-context</span><span class=p>/</span><span class=n>polyaxon</span><span class=p>/</span><span class=n>polyaxonfiles</span><span class=p>/</span><span class=n>jupyter-service</span><span class=p>.</span><span class=n>yml</span> <span class=p>`</span>
    <span class=n>-P</span> <span class=n>DOCKER_IMAGE</span><span class=p>=</span><span class=s2>&quot;asia.gcr.io/$GCP_PROJECT_ID/jupyter-server:0.1.0&quot;</span> <span class=p>`</span>
    <span class=n>-P</span> <span class=n>WORKING_DIR</span><span class=p>=</span><span class=s2>&quot;/polyaxon-v1-data&quot;</span> <span class=p>`</span>
    <span class=n>-p</span> <span class=p>{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>repo_name</span><span class=p>}}-&lt;</span><span class=n>YOUR_NAME</span><span class=p>&gt;</span>
</code></pre></div> </div> </div> <p>{% elif cookiecutter.gcr_personal_subdir == 'Yes' %}</p> <div class=tabbed-set data-tabs=13:2><input checked=checked id=__tabbed_13_1 name=__tabbed_13 type=radio><label for=__tabbed_13_1>Linux/macOS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>$ polyaxon run -f aisg-context/polyaxon/polyaxonfiles/jupyter-service.yml <span class=se>\</span>
    -P <span class=nv>DOCKER_IMAGE</span><span class=o>=</span><span class=s2>&quot;asia.gcr.io/</span><span class=nv>$GCP_PROJECT_ID</span><span class=s2>/{{cookiecutter.author_name}}/jupyter-server:0.1.0&quot;</span> <span class=se>\</span>
    -P <span class=nv>WORKING_DIR</span><span class=o>=</span><span class=s2>&quot;/polyaxon-v1-data&quot;</span> <span class=se>\</span>
    -p <span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>-&lt;YOUR_NAME&gt;
</code></pre></div> </div> <input id=__tabbed_13_2 name=__tabbed_13 type=radio><label for=__tabbed_13_2>Windows PowerShell</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=n>polyaxon</span> <span class=n>run</span> <span class=o>-f</span> <span class=n>aisg-context</span><span class=p>/</span><span class=n>polyaxon</span><span class=p>/</span><span class=n>polyaxonfiles</span><span class=p>/</span><span class=n>jupyter-service</span><span class=p>.</span><span class=n>yml</span> <span class=p>`</span>
    <span class=n>-P</span> <span class=n>DOCKER_IMAGE</span><span class=p>=</span><span class=s2>&quot;asia.gcr.io/$GCP_PROJECT_ID/{{cookiecutter.author_name}}/jupyter-server:0.1.0&quot;</span> <span class=p>`</span>
    <span class=n>-P</span> <span class=n>WORKING_DIR</span><span class=p>=</span><span class=s2>&quot;/polyaxon-v1-data&quot;</span> <span class=p>`</span>
    <span class=n>-p</span> <span class=p>{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>repo_name</span><span class=p>}}-&lt;</span><span class=n>YOUR_NAME</span><span class=p>&gt;</span>
</code></pre></div> </div> </div> <p>{% endif %} Now head over to the services dashboard under your project. The service should be accompanied with the tags <code>jupyter</code>, <code>notebook</code> and <code>lab</code>.</p> <p><img alt="Polyaxon v1- JupyterLab Service Interface" src=../../assets/screenshots/polyaxon-v1-jupyter-service-interface.png></p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Do head over <a href=../05-virtual-env/#jupyter-kernel-for-jupyterlab>here</a> on how to enable the usage of virtual <code>conda</code> environments within JupyterLab.</p> </div> <h2 id=using-docker-within-polyaxon-services>Using Docker within Polyaxon Services<a class=headerlink href=#using-docker-within-polyaxon-services title="Permanent link">&para;</a></h2> <div class="admonition caution"> <p class=admonition-title>Caution</p> <p>Since these development environments are essentially pods deployed within a Kubernetes cluster, using Docker within the pods themselves is not feasible by default and while possible, should be avoided.</p> </div> <h2 id=cloud-sdk-for-development-environment>Cloud SDK for Development Environment<a class=headerlink href=#cloud-sdk-for-development-environment title="Permanent link">&para;</a></h2> <div class="admonition attention"> <p class=admonition-title>Attention</p> <p>Through the default boilerplate Dockerfiles, the Google Cloud SDK is <strong>installed only for VSCode</strong> among the development environment services.</p> </div> <p>As mentioned <a href=../03-mlops-components-platform/#secrets-credentials-on-kubernetes>here</a>, credentials or secrets can be attached to Polyaxon services or jobs when configured properly. In doing so, you can make use of Google service accounts to interact with GCP services or resources.</p> <p>You can configure the <code>gcloud</code> CLI to make use of the service account credentials attached to the services or jobs, which its path is set to the environment variable <code>GOOGLE_APPLICATION_CREDENTIALS</code>:</p> <div class=highlight><pre><span></span><code>$ gcloud auth activate-service-account &lt;SA_CLIENT_EMAIL_FROM_SA_KEY&gt;@<span class=o>{{</span>cookiecutter.gcp_project_id<span class=o>}}</span>.iam.gserviceaccount.com --key-file<span class=o>=</span><span class=nv>$GOOGLE_APPLICATION_CREDENTIALS</span>
</code></pre></div> <p>Once the service account has been configured, examples of actions you can carry out consists of the following:</p> <ul> <li>list objects within GCS buckets</li> <li>create objects within GCS buckets</li> <li>list deployed pods within a GKE cluster</li> </ul> <p>The service account is granted a custom role with specific permissions deemed needed by AI engineers.</p> <p><strong>Reference(s):</strong></p> <ul> <li><a href=https://polyaxon.com/docs/core/cli/run/ >Polyaxon Docs - Run CLI Reference</a></li> <li><a href=https://polyaxon.com/integrations/ >Polyaxon - Integrations</a></li> <li><a href=https://cloud.google.com/sdk/gcloud/reference/auth/activate-service-account>Cloud SDK Reference - gcloud auth activate-service-account</a></li> <li><a href=https://jpetazzo.github.io/2015/09/03/do-not-use-docker-in-docker-for-ci/ >Using Docker-in-Docker for your CI or testing environment? Think twice. - jpetazzo</a></li> </ul> </article> </div> </div> <a href=# class="md-top md-icon" title="Back to top" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../03-mlops-components-platform/ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> MLOps Components & Platform </div> </div> </a> <a href=../05-virtual-env/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Virtual Environment </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2022 - AI Singapore </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://twitter.com/aisingapore target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/company/aisingapore target=_blank rel=noopener title=www.linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://www.instagram.com/ai_singapore/ target=_blank rel=noopener title=www.instagram.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.d351de03.min.js", "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.a1609d9a.min.js></script> </body> </html>